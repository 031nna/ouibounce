!function(e,n){"function"==typeof define&&define.amd?define(n):"object"==typeof exports?module.exports=n(require,exports,module):e.ouibounce=n()}(this,function(){return function(e,n){function t(e,n){return"undefined"==typeof e?n:e}function i(e){var n=24*e*60*60*1e3,t=new Date;return t.setTime(t.getTime()+n),"; expires="+t.toGMTString()}function o(){T.addEventListener("mouseleave",u),T.addEventListener("mouseenter",r),T.addEventListener("keydown",c)}function u(e){e.clientY>l||d("viewedOuibounceModal","true")&&!f||(w=setTimeout(a,p))}function r(){w&&(clearTimeout(w),w=null)}function c(e){x||d("viewedOuibounceModal","true")&&!f||e.metaKey&&76==e.keyCode&&(x=!0,w=setTimeout(a,p))}function d(e,n){var t=document.cookie.split("; ").reduce(function(e,n){var t=n.split("=");return e[t[0]]=t[1],e},{});return t[e]===n}function a(){s(),k()}function s(){e&&(e.style.display="block"),m()}function m(e){var e=e||{};"undefined"!=typeof e.cookieExpire&&(y=i(e.cookieExpire)),e.sitewide===!0&&(b=";path=/"),"undefined"!=typeof e.cookieDomain&&(E=";domain="+e.cookieDomain),document.cookie="viewedOuibounceModal=true"+y+E+b,T.removeEventListener("mouseleave",u),T.removeEventListener("mouseenter",r),T.removeEventListener("keydown",c)}var n=n||{},f=n.aggressive||!1,l=t(n.sensitivity,20),v=t(n.timer,1e3),p=t(n.delay,0),k=n.callback||function(){},y=i(n.cookieExpire)||"",E=n.cookieDomain?";domain="+n.cookieDomain:"",b=n.sitewide===!0?";path=/":"",w=null,T=document.getElementsByTagName("html")[0];setTimeout(o,v);var x=!1;return{fire:s,disable:m}}});